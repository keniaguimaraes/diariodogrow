{"filter":false,"title":"home_controller.rb","tooltip":"/app/controllers/home_controller.rb","undoManager":{"mark":14,"position":14,"stack":[[{"start":{"row":0,"column":0},"end":{"row":0,"column":1},"action":"insert","lines":["d"],"id":1},{"start":{"row":0,"column":1},"end":{"row":0,"column":2},"action":"insert","lines":["e"]},{"start":{"row":0,"column":2},"end":{"row":0,"column":3},"action":"insert","lines":["f"]}],[{"start":{"row":0,"column":3},"end":{"row":0,"column":4},"action":"insert","lines":[" "],"id":2},{"start":{"row":0,"column":4},"end":{"row":0,"column":5},"action":"insert","lines":["i"]},{"start":{"row":0,"column":5},"end":{"row":0,"column":6},"action":"insert","lines":["n"]},{"start":{"row":0,"column":6},"end":{"row":0,"column":7},"action":"insert","lines":["d"]},{"start":{"row":0,"column":7},"end":{"row":0,"column":8},"action":"insert","lines":["e"]},{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["c"]}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"remove","lines":["c"],"id":3}],[{"start":{"row":0,"column":8},"end":{"row":0,"column":9},"action":"insert","lines":["x"],"id":4}],[{"start":{"row":0,"column":9},"end":{"row":1,"column":0},"action":"insert","lines":["",""],"id":5},{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"insert","lines":["    "]},{"start":{"row":1,"column":4},"end":{"row":1,"column":5},"action":"insert","lines":["e"]},{"start":{"row":1,"column":5},"end":{"row":1,"column":6},"action":"insert","lines":["n"]},{"start":{"row":1,"column":6},"end":{"row":1,"column":7},"action":"insert","lines":["d"]},{"start":{"row":1,"column":0},"end":{"row":1,"column":4},"action":"remove","lines":["    "]}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"remove","lines":["d"],"id":6}],[{"start":{"row":1,"column":2},"end":{"row":1,"column":3},"action":"insert","lines":["d"],"id":7}],[{"start":{"row":0,"column":0},"end":{"row":1,"column":3},"action":"remove","lines":["def index","end"],"id":10},{"start":{"row":0,"column":0},"end":{"row":28,"column":0},"action":"insert","lines":["require \"digest/sha2\"","class HomeController < ApplicationController"," def index","    if user_signed_in? then","       user = Digest::SHA2.new << current_user.username+ENV['CHAVE']","       @usuarios = Usuario.where(\"username=:username\",{username:user.to_s}).all","       if @usuarios.empty?  then","         @usuario_adiciona = Usuario.new","         @usuario_adiciona.username =  user.to_s","         @usuario_adiciona.tipoperfil_id = 1","         @usuario_adiciona.administrador = false","         @usuario_adiciona.bloqueio =  false","         @usuario_adiciona.curso_id = 1","         @usuario_adiciona.save","       end    ","      ","       @usuarios.each do |usuario|","        menssagem =\"Informe o seu curso!\"","        if usuario.curso_id == 1 and usuario.username != ENV['ADMINISTRADOR']then ","          redirect_to perfil_usuario_path(usuario), notice:menssagem   ","        end","       end #end each      ","    end  ","    ","    @config_avaliacao = ConfigAvaliacao.order(\"id DESC limit 1\").all "," end","  ","end",""]}],[{"start":{"row":0,"column":0},"end":{"row":0,"column":21},"action":"remove","lines":["require \"digest/sha2\""],"id":11}],[{"start":{"row":3,"column":4},"end":{"row":22,"column":9},"action":"remove","lines":["if user_signed_in? then","       user = Digest::SHA2.new << current_user.username+ENV['CHAVE']","       @usuarios = Usuario.where(\"username=:username\",{username:user.to_s}).all","       if @usuarios.empty?  then","         @usuario_adiciona = Usuario.new","         @usuario_adiciona.username =  user.to_s","         @usuario_adiciona.tipoperfil_id = 1","         @usuario_adiciona.administrador = false","         @usuario_adiciona.bloqueio =  false","         @usuario_adiciona.curso_id = 1","         @usuario_adiciona.save","       end    ","      ","       @usuarios.each do |usuario|","        menssagem =\"Informe o seu curso!\"","        if usuario.curso_id == 1 and usuario.username != ENV['ADMINISTRADOR']then ","          redirect_to perfil_usuario_path(usuario), notice:menssagem   ","        end","       end #end each      ","    end  "],"id":12}],[{"start":{"row":4,"column":3},"end":{"row":6,"column":4},"action":"remove","lines":[" ","    @config_avaliacao = ConfigAvaliacao.order(\"id DESC limit 1\").all "," end"],"id":13}],[{"start":{"row":2,"column":10},"end":{"row":3,"column":0},"action":"insert","lines":["",""],"id":14},{"start":{"row":3,"column":0},"end":{"row":3,"column":5},"action":"insert","lines":["     "]}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":1},"action":"insert","lines":["e"],"id":15}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":1},"action":"remove","lines":["e"],"id":16}],[{"start":{"row":3,"column":0},"end":{"row":3,"column":1},"action":"insert","lines":[" "],"id":17},{"start":{"row":3,"column":1},"end":{"row":3,"column":2},"action":"insert","lines":["e"]},{"start":{"row":3,"column":2},"end":{"row":3,"column":3},"action":"insert","lines":["n"]},{"start":{"row":3,"column":3},"end":{"row":3,"column":4},"action":"insert","lines":["d"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":7,"column":3},"end":{"row":7,"column":3},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1579879728597,"hash":"24dcc43c62f92e0273580e1021b2328ae8071cff"}